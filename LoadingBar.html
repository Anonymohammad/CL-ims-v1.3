<script type="text/babel">
function LoadingBar() {
  const { state } = React.useContext(window.AppContext);

  return (
    <div className="loading-indicator-container">
      {/* Progress Bar */}
      <div 
        className={`fixed top-0 left-0 right-0 h-0.5 bg-olive-100 z-[9999] 
          transition-opacity duration-300 ${state.loading ? 'opacity-100' : 'opacity-0'}`}
      >
        <div className={`h-full bg-olive-600 ${state.loading ? 'animate-progress' : ''}`} />
      </div>

      {/* Loading Message */}
      {state.loading && state.loadingMessage && (
        <div 
          className="fixed top-4 left-1/2 transform -translate-x-1/2 
            bg-white/90 shadow-lg rounded-md px-4 py-2 z-[9999]
            flex items-center space-x-3"
        >
          <div className="w-4 h-4 border-2 border-olive-600 border-t-transparent rounded-full animate-spin" />
          <span className="text-sm font-medium text-olive-800 whitespace-nowrap">
            {state.loadingMessage}
          </span>
        </div>
      )}
    </div>
  );
}

window.LoadingBar = LoadingBar;
</script>
